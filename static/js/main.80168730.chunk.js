(this["webpackJsonpuse-mapbox-gl-example"]=this["webpackJsonpuse-mapbox-gl-example"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var o,r,a=n(0),i=n.n(a),u=n(2),c=n.n(u),p=(n(11),n(3)),s=n(1),l=n.n(s),m=function(){return(m=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function g(e){var t=e.getCenter().toArray(),n=t[0];return{longitude:t[1],latitude:n,zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}}function f(e,t,n){var o,a,i=(o=t.longitude,a=t.latitude,new l.a.LngLat(a,o)),u=function(e){var t=r.jumpTo,n={};if(e){var o=e.speed,a=e.curve,i=e.easing;o&&a&&i?(t=r.flyTo,n=e):o&&i&&(t=r.easeTo,n={speed:o,easing:i})}return[t,n]}(n),c=u[0],p=u[1];e[c](m(m(m({},p),t),{center:i}))}!function(e){e.moveend="moveend",e.move="move"}(o||(o={})),function(e){e.jumpTo="jumpTo",e.easeTo="easeTo",e.flyTo="flyTo"}(r||(r={}));var v=function(e){var t=e.mapNodeRef,n=e.initialViewport,r=e.style,i=e.onViewportChanged,u=e.onLoaded,c=e.mapboxAccessToken,p=e.viewportUpdatingMode,s=void 0===p?o.moveend:p,v=Object(a.useRef)(null);Object(a.useEffect)((function(){if(t.current){var e=function(e,t,n){var o={container:e,center:[t.latitude,t.longitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch};return n&&(o.accessToken=n),o}(t.current,n,c);v.current=new l.a.Map(e);var r=function(e){var t=g(e.target);i&&i(t)};return v.current.on(function(e){var t=o[e];if(!t)throw new Error("Bad value, viewport updating mode shoud be one of [move, moveend]");return t}(s),r),v.current.on("load",(function(e){var t=e.target;r({target:t}),u&&u(t)})),function(){v.current&&v.current.remove()}}}),[t]),Object(a.useEffect)((function(){v.current&&r&&v.current.setStyle(r)}),[v,r]);var d=Object(a.useCallback)((function(){return v.current?v.current:null}),[v]),y=Object(a.useCallback)((function(e,t){if(v.current){var n=g(v.current);f(v.current,m(m({},n),e),t)}}),[v]);return{mapRef:v,setViewport:y,getMap:d}},d={OSM:{version:8,sources:{osm:{type:"raster",tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"osm",source:"osm",type:"raster"}]},OTP:{version:8,sources:{otp:{type:"raster",tiles:["https://a.tile.opentopomap.org/{z}/{x}/{y}.png","https://b.tile.opentopomap.org/{z}/{x}/{y}.png","https://c.tile.opentopomap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"otp",source:"otp",type:"raster"}]}},y={latitude:44.63450762960348,longitude:48.818963526964204,zoom:10,bearing:-0,pitch:0},b=function(){var e=i.a.useState("OSM"),t=Object(p.a)(e,2),n=t[0],o=t[1],r=i.a.useRef(),a=v({mapNodeRef:r,initialViewport:y,style:d[n],onViewportChanged:function(e){return console.log("viewport changed",e)},onLoaded:function(){return console.log("map zoom",u().getZoom())},viewportUpdatingMode:"moveend"}),u=a.getMap,c=a.setViewport;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Select map style"," ",i.a.createElement("select",{name:"style",value:n,onChange:function(e){return o(e.target.value)}},i.a.createElement("option",{value:"OSM"},"open street maps"),i.a.createElement("option",{value:"OTP"},"open topo map"))," ",i.a.createElement("button",{onClick:function(){return c(y,{speed:1,curve:1,easing:function(e){return e}})}},"reset vieport")),i.a.createElement("div",{className:"map-container"},i.a.createElement("div",{id:"map",ref:r})))};c.a.render(i.a.createElement(b,null),document.getElementById("root"))},4:function(e,t,n){e.exports=n(12)}},[[4,1,2]]]);
//# sourceMappingURL=main.80168730.chunk.js.map