(window["webpackJsonpuse-mapbox-gl-example"]=window["webpackJsonpuse-mapbox-gl-example"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var r,o=n(0),a=n.n(o),i=n(2),c=n.n(i),u=(n(11),n(3)),p=n(1),s=n.n(p),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function m(e){var t=e.getCenter().toArray(),n=t[0];return{longitude:t[1],latitude:n,zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}}function g(e,t,n){var o,a,i=(o=t.longitude,a=t.latitude,new s.a.LngLat(a,o)),c=function(e){var t=r.jumpTo,n={};if(e){var o=e.speed,a=e.curve,i=e.easing;o&&a&&i?(t=r.flyTo,n=e):o&&i&&(t=r.easeTo,n={speed:o,easing:i})}return[t,n]}(n),u=c[0],p=c[1];e[u](l({center:i,zoom:t.zoom},p))}!function(e){e.jumpTo="jumpTo",e.easeTo="easeTo",e.flyTo="flyTo"}(r||(r={}));var f=function(e){var t=e.mapNodeRef,n=e.initialViewport,r=e.style,a=e.onViewportChanged,i=e.onLoaded,c=e.mapboxAccessToken,u=Object(o.useRef)(null);Object(o.useEffect)((function(){if(t.current){var e=function(e,t,n){var r={container:e,center:[t.latitude,t.longitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch};return n&&(r.accessToken=n),r}(t.current,n,c);u.current=new s.a.Map(e);var r=function(e){var t=m(e.target);a&&a(t)};return u.current.on("moveend",r),u.current.on("load",(function(e){var t=e.target;r({target:t}),i&&i(t)})),function(){u.current&&u.current.remove()}}}),[t]),Object(o.useEffect)((function(){u.current&&r&&u.current.setStyle(r)}),[u,r]);var p=Object(o.useCallback)((function(e,t){if(u.current){var n=m(u.current);g(u.current,l(l({},n),e),t)}}),[u]);return{mapRef:u,setViewport:p}},d={OSM:{version:8,sources:{osm:{type:"raster",tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"osm",source:"osm",type:"raster"}]},OTP:{version:8,sources:{otp:{type:"raster",tiles:["https://a.tile.opentopomap.org/{z}/{x}/{y}.png","https://b.tile.opentopomap.org/{z}/{x}/{y}.png","https://c.tile.opentopomap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"otp",source:"otp",type:"raster"}]}},v={latitude:44.63450762960348,longitude:48.818963526964204,zoom:10,bearing:-0,pitch:0},y=function(){var e=a.a.useState("OSM"),t=Object(u.a)(e,2),n=t[0],r=t[1],o=a.a.useRef(),i=f({mapNodeRef:o,initialViewport:v,style:d[n],onViewportChanged:function(e){return console.log("viewport changed",e)},onLoaded:function(){return console.log("map loaded")}}).setViewport;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Select map style"," ",a.a.createElement("select",{name:"style",value:n,onChange:function(e){return r(e.target.value)}},a.a.createElement("option",{value:"OSM"},"open street maps"),a.a.createElement("option",{value:"OTP"},"open topo map"))," ",a.a.createElement("button",{onClick:function(){return i(v,{speed:1,curve:1,easing:function(e){return e}})}},"reset vieport")),a.a.createElement("div",{className:"map-container"},a.a.createElement("div",{id:"map",ref:o})))};c.a.render(a.a.createElement(y,null),document.getElementById("root"))},4:function(e,t,n){e.exports=n(12)}},[[4,1,2]]]);
//# sourceMappingURL=main.6774c9ec.chunk.js.map